openapi: 3.0.0
info:
  title: Demand
  version: '1'
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0.html
servers:
- url: https://{hostname}/gtm-api/v1/reports
x-akamai:
  auth-type: EDGE_GRID
  file-path: demand.yaml
paths:
  /demand/domains/{domain}/properties/{property}:
    parameters:
    - $ref: parameters/property-path.yaml
    - $ref: parameters/domain-path.yaml
    get:
      operationId: get-demand-property
      summary: Report directed demand for a property
      tags:
      - Directed demand
      description: |
        The requests generated by the client machines behind a client name-server represent demand. This API returns a collection of reports containing the provisioned demand percentage vs actual demand percentage seen by GTM rounded off to nearest 5 min interval for each data center. This API returns no data for load feedback-based domains, as those domains do not have a configured per data center load.
      parameters:
      - $ref: parameters/start-query.yaml
      - $ref: parameters/end-query.yaml
      responses:
        200:
          description: |
            Successful response.
          content:
            application/json:
              example:
                $ref: examples/list-directed-demand-for-a-property-200.json
              schema:
                $ref: schemas/demand.yaml
            text/csv:
              example:
                $ref: examples/list-directed-demand-for-a-property-200.csv
              schema:
                type: string
